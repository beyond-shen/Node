# Node
这是node的学习和小项目

## node的安装-linux

### 更新 /etc/apt/sources.list

百度对应版本的阿里源

```sh
$ sudo apt update
```

### node

```sh
$ wget https://nodejs.org/dist/v8.9.3/node-v8.9.3-linux-x64.tar.xz
$ tar -xvf node-v8.9.3-linux-x64.tar.xz
$ sudo mv node-v8.9.3-linux-x64 /usr/local
$ sudo ln -s /usr/local/node-v8.9.3-linux-x64/bin/node /usr/local/bin/node 
$ sudo ln -s /usr/local/node-v8.9.3-linux-x64/bin/npm /usr/local/bin/npm 
```




## node的优缺点分析

### 优点
***
1. 设计思想方面:node.js采用事件驱动，异步编程的思想来设计，利用了javascript的匿名函数和闭包特性，使得node.js非常适合做网络服务应用。
1. 学习成本方面:node.js是以javascript为基础的服务器平台，使得node.js像javascript一样简单易学，容易上手，特别是从事前端开发的人员可以很快上手服务端的开发。
1. 运行效率方面:node.js非阻塞的I/O处理使得自身可以以相对较低的系统资源占有产生高性能和出众的负载能力，这也使得node.js非常适合依赖于其他I/O资源的中间层服务。
1. 请求处理方面:node.js简单高效，适合最为数据密集型分布式的部署环境下的实时应用系统的解决方案，适合情景，在响应客户端之前，预计会有很大的流量，但服务器端的处理逻辑不一定很多。
***
详解:

1. 什么是事件驱动编程?

答: 事件驱动编程（Evnet-driven programming）是一种编程风格，由事件来决定程序的执行流程，事件由事件处理器（event handler）或事件回调（event callback）来处理(事件回调是当某个特定事件发生时被调用的函数)而不是简单的返回结果值，这种编程模型就叫事件驱动编程或异步编程。这是Node一个最明显的特性，这种编程模型意味着当前进程在执行I/O操作时不会被阻塞，因此，多个I/O操作可以并行执行，当操作完成后相应的回调函数就会被调用。

   事件驱动编程底层依赖于事件循环（event loop），事件循环基本上是事件检测和事件处理器触发这两种函数不断循环调用的一个结构。在每次循环里，事件循环机制需要检测发生了哪些事件，当事件发生时，它找到对应的回调函数并调用它。事件循环只是运行在进程内的一个线程，当事件发生时，事件处理器可以单独运行并且不会被中断，也就是说：
  1.在某个特定时刻最多有一个事件回调函数运行
  2.任何事件处理器运行时都不会被中断
  
2. Node和JavaScript如何简化了异步应用程序?

答: JavaScript中的闭包及匿名函数，这些特性使JavaScript非常适合用作事件驱动编程。JavaScript的魔力是让Node如此流行的一个主要原因。

3. 什么是闭包?闭包怎么帮助异步编程?

答: 闭包可以理解为一个特殊的函数，但是它可以继承并访问它自身被定义的那个作用域里的变量。JavaScript里，函数是第一类对象，就是说你可以把函数当作参数来传递给其他函数.当你将一个回调函数作为参数传递给另外一个函数时，它稍候会被调用，神奇的是，这个回调函数被稍候调用时，它居然记住了它自身定义所在的那个上下文以及父上下文里的变量，而且还可以正常访问它们。这个强大的特性是Node成功的核心。

4. 什么是匿名函数?

答:首先什么是Function对象:　Function对象是JavaScript里面的固有对象，所有的函数实际上都是一个Function对象。Function对象可以直接通过构造函数构造一个函数.

而匿名函数说白了就是没有函数名的函数,它的调用就是小括号包起来然后再最后加一个小括号,也叫立即函数:(function(){})();

***
深入学习匿名函数:

1. 不能直接使用

```js
function(){
    console.log(1); 
}
// 报错:因为ECAMScript规定函数的声明必须要有名字，如果没有名字的话，我们就没有办法找到它了,解决如2,3
```
第一个小括号为返回一个函数的函数表达式,第二个括号为执行
```js
(function(){
    console.log(1); 
})();//正确:我们用括号扩起来那么这个函数就不再是一个函数声明了，而是一个函数表达式,不需要名字,等价于赋值

```

2. 匿名函数可以依附于一个变量，并且这个变量名就是这个匿名函数的名字。

```js
var a = function(){
    console.log(1);
}
a(); //1
```
```js
function(){
    console.log(1);
}();
// 报错:匿名函数必须依附一个变量。

```
3. 匿名函数不只是可以依附于一个变量，也可以依附于一个对象的属性。

```js
var a = {
    fn:function(){
        console.log(1);
    }
}
a.fn(); //1
```
也可以实现自调用

```js
var a = {
    fn:function(){
        console.log(1);
    }()
}
```
4. 如果将一个自执行的匿名函数并且没有返回值，赋值给一个变量那么这个变量的值就是undefined。因为这个函数在赋值之前已经执行完了，而这个函数没有返回值，所以就是undefined，如果有返回值，那么这个变量的值就是那个匿名函数的返回值。

```js
var a = function(b){
    console.log(b);
}(10); //10
console.log(a); //undefined
```
```js
var a = function(b){
    return b;
}(10); //10
console.log(a); //10
```
***

小括号有什么作用呢?

小括号能把我们的表达式组合分块，并且每一块，也就是每一对小括号，都有一个返回值。这个返回值实际上也就是小括号中表达式的返回值。所以，当我们用一对小括号把匿名函数括起来的时候，实际上小括号对返回的，就是一个匿名函数的Function对象。因此，小括号对加上匿名函数就如同有名字的函数般被我们取得它的引用位置了。所以如果在这个引用变量后面再加上参数列表，就会实现普通函数的调用形式。说白了就是小括号把一个函数变成了函数表达式

5. node.js非阻塞的I/O处理使得自身可以以相对较低的系统资源占有产生高性能和出众的负载能力,如何理解?
答: 传统模式,如果遇到一个IO操作,就会被阻塞,若要执行后续的其他操作就必须开多个线程或进程,这样会造成浪费系统资源,而nodejs是单线程,单进程,资源占用少,但是异步特性可以并发执行



